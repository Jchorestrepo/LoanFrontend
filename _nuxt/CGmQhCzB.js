import{u as b,r as c,c as p,a as o,q as l,v as s,t as d,b as g,w as f,s as v,_ as x,o as y,d as w}from"./C6ViOGLp.js";const k={class:"max-w-2xl mx-auto"},I={class:"space-y-4"},P={class:"bg-dark-background p-4 rounded-lg space-y-2"},V={class:"flex justify-between text-gray-300"},N={class:"flex justify-between text-emerald-400 font-bold"},D={class:"flex justify-end space-x-4"},j={__name:"create",setup(S){const i=b(),r=c({discord:"",wallet:"",montoInicial:0,fechaPrestamo:"",observaciones:"",estado:"ACTIVO"}),n=t=>Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),u=async()=>{try{if(!r.value.discord||!r.value.wallet||!r.value.montoInicial||!r.value.fechaPrestamo)throw new Error("Por favor, complete todos los campos obligatorios.");const t=await fetch("https://apiloan-zkmh.onrender.com/api/loan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.value)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al crear el préstamo.")}i.push("/loans")}catch(t){console.error("Error al crear el préstamo:",t),alert(t.message)}};return(t,e)=>{const m=x;return y(),p("div",k,[e[15]||(e[15]=o("h1",{class:"text-2xl font-bold text-gray-200 mb-6"},"Nuevo Préstamo",-1)),o("form",{onSubmit:v(u,["prevent"]),class:"bg-dark-surface rounded-lg shadow-lg p-6 space-y-6"},[o("div",I,[o("div",null,[e[5]||(e[5]=o("label",{class:"block text-gray-300 mb-2",for:"discord"},"Discord",-1)),l(o("input",{id:"discord","onUpdate:modelValue":e[0]||(e[0]=a=>r.value.discord=a),type:"text",required:"",class:"w-full bg-dark-background text-gray-300 p-3 rounded-lg border border-gray-700 focus:border-emerald-500 focus:outline-none",placeholder:"Usuario#1234"},null,512),[[s,r.value.discord]])]),o("div",null,[e[6]||(e[6]=o("label",{class:"block text-gray-300 mb-2",for:"wallet"},"Wallet",-1)),l(o("input",{id:"wallet","onUpdate:modelValue":e[1]||(e[1]=a=>r.value.wallet=a),type:"text",required:"",class:"w-full bg-dark-background text-gray-300 p-3 rounded-lg border border-gray-700 focus:border-emerald-500 focus:outline-none",placeholder:"0x..."},null,512),[[s,r.value.wallet]])]),o("div",null,[e[7]||(e[7]=o("label",{class:"block text-gray-300 mb-2",for:"montoInicial"},"Monto Inicial",-1)),l(o("input",{id:"montoInicial","onUpdate:modelValue":e[2]||(e[2]=a=>r.value.montoInicial=a),type:"number",required:"",min:"0",step:"0.01",class:"w-full bg-dark-background text-gray-300 p-3 rounded-lg border border-gray-700 focus:border-emerald-500 focus:outline-none"},null,512),[[s,r.value.montoInicial]])]),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-gray-300 mb-2",for:"fechaPrestamo"},"Fecha",-1)),l(o("input",{id:"fechaPrestamo","onUpdate:modelValue":e[3]||(e[3]=a=>r.value.fechaPrestamo=a),type:"date",required:"",class:"w-full bg-dark-background text-gray-300 p-3 rounded-lg border border-gray-700 focus:border-emerald-500 focus:outline-none"},null,512),[[s,r.value.fechaPrestamo]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-gray-300 mb-2",for:"observaciones"},"Observaciones",-1)),l(o("textarea",{id:"observaciones","onUpdate:modelValue":e[4]||(e[4]=a=>r.value.observaciones=a),rows:"3",class:"w-full bg-dark-background text-gray-300 p-3 rounded-lg border border-gray-700 focus:border-emerald-500 focus:outline-none"},null,512),[[s,r.value.observaciones]])])]),o("div",P,[e[12]||(e[12]=o("div",{class:"flex justify-between text-gray-300"},[o("span",null,"Interés Diario:"),o("span",null,"0.5%")],-1)),o("div",V,[e[10]||(e[10]=o("span",null,"Monto Inicial:",-1)),o("span",null,"$"+d(n(r.value.montoInicial||0)),1)]),o("div",N,[e[11]||(e[11]=o("span",null,"Total a Pagar (1 día):",-1)),o("span",null,"$"+d(n((r.value.montoInicial||0)*1.005)),1)])]),o("div",D,[g(m,{to:"/loans",class:"px-4 py-2 text-gray-300 hover:text-white transition-colors"},{default:f(()=>e[13]||(e[13]=[w(" Cancelar ")])),_:1}),e[14]||(e[14]=o("button",{type:"submit",class:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-colors"}," Crear Préstamo ",-1))])],32)])}}};export{j as default};
